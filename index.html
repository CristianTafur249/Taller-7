<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="descripcion" content="Registro">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="autores" content="Ivan, Cruz, Cristian" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <link rel="stylesheet" href="css/apariencia.css">
    <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
    <script src="https://kit.fontawesome.com/e9d8cd8412.js" crossorigin="anonymous"></script>

</head>

<body>
    <h1 class="titu">Registro </h1>
    <div class="content-text">

        <form id="formulario1" name="Formulario1">
            <div class="form-control">
                <label for="nombre">Nombres</label>
                <input type="text" name="nombres" id="nombre">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <br><small>error message</small>
            </div>
            <div class="form-control">
                <label for="apellido">Apellidos</label>
                <input type="text" name="apellido" id="apellido">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <br><small>error message</small>
            </div>
            <div class="form-control">
                <label for="usuario">Nombre de usuario</label>
                <input type="text" name="usuario" id="usuario">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <br><small>error message</small>
            </div>
            <div class="form-control">
                <label for="nacimiento">Fecha de nacimiento</label> <br>
                <input type="date" name="Fecha" id="nacimiento">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <br><small>error message</small>
            </div>
            <div class="form-control">
                <label for="email">Email de contacto</label>
                <input type="email" name="email" id="email">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <br><small>error message</small>
            </div>
            <div class="form-control">
                <label for="telefono">Telefono</label>
                <input type="tel" name="telefono" id="telefono">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <br><small>error message</small>
            </div>
            <div class="form-control">
                <label for="contraseña">Contraseña</label>
                <input type="password" name="contraseña" id="contraseña">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <br><small>error message</small>
            </div>
            <div class="form-control">
                <label for="Confirmar">Confirmar contraseña</label>
                <input type="password" name="Confirmar" id="Confirmar">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <br><small>error message</small>
            </div>
            <div class="bl">

                <div class="selet-control">
                    <h3 class="lugar">Lugar de residencia</h3>
                    <div>
                        <label for="departamento">Departamento: </label>
                        <select onchange="traerDatos()" name="departamento" id="departamento">
                            <option class="res" value="null">-</option>

                        </select>
                        <i class="fas fa-check-circle"></i>
                        <i class="fas fa-exclamation-circle"></i>
                        <br><small>error message</small>
                    </div>
                    <div>
                        <label for="ciudad"> Ciudad de residencia</label>
                        <select name="ciudad" id="ciudad">
                            <option value="null">-</option>
                        </select>
                        <i class="fas fa-check-circle"></i>
                        <i class="fas fa-exclamation-circle"></i>
                        <br><small>error message</small>
                    </div>
                </div>
            </div>
            <button type="submit">ENVIAR</button>
            <a href="../Taller-7/integrantes.html">Integrantes</a>
        </form>

    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="js/ajax.js"></script>
    <script>
        function traerDatos() {
            const xhttp = new XMLHttpRequest()
            xhttp.open('GET', 'https://raw.githubusercontent.com/marcovega/colombia-json/master/colombia.min.json', true)
            xhttp.send()
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    let datos = JSON.parse(this.responseText)
                    var b = datos
                    /* console.log(datos) */


                    for (let item of datos) {
                        if ($("#departamento").val() == item.departamento) {
                            /* console.log(item.departamento) */
                            /* console.log(item.id) */
                            /* console.log(item) */
                            /* console.log(Object.values(item)) */
                            var r = Object.values(item.ciudades)
                            /* console.log(r.length) */
                            $("#ciudad").find('option').remove()
                            for (var i = 0; i < r.length; i++) {
                                /* console.log(r[i]) */

                                $("#ciudad").append('<option value="' + r[i] + '">' + r[i] + '</option>')
                            }
                        }

                        /* depar.innerHTML += `<option value="${item.departamento}">${item.departamento}</option>` */
                    }
                }
            }
        }
    </script>
</body>

</html>